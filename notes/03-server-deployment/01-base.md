## base

### domain

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 
 * 
 * 
 * 
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

### DNS & DDNS

#### DNS

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * Domain Name System                       // 静态域名
 * 
 * 
 * 
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### DDNS

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * Dynamic Domain Name Server               // 动态域名
 * 
 * 
 * 
 */

DDNS 是将用户的 "动态IP" 地址映射到一个 "固定的域名" 解析服务上

用户每次连接网络的时候客户端程序就会通过信息传递把该主机的动态IP地址传送给位于服务商主机上的服务器程序
服务器程序负责提供DNS服务并实现动态域名解析


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


                                  request
                                    |
                                    |
                                    |
                                   \|/
                                   
        Dynamic-IP ---> DDNS ---> Domain

                                    |
                                    |
                                    |
                                   \|/
                                    
                                  Server [ Domain => Fixed-IP ]


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### DNS vs DDNS

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 
 * 
 * 
 * 
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

### server

#### 

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 
 * 
 * 
 * 
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

### link server methods

#### Polling( 轮询 / 短轮询  )

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * Polling                  // 又称 "短轮询"
 * 
 * 
 * 实现思路是浏览器端每隔几秒钟向服务器端发送 http请求
 * 服务端在收到请求后，不论是否有数据更新，都直接进行响应
 * 在服务端响应完成，就会关闭这个Tcp连接
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


优点: 

    1) 实现简单
          
    2) 兼容性较好( 仅需 'http协议' 即可实现 )

缺点:
    
    1) 资源消耗较多( 每次请求都需建立 TCP，相应后关闭当前建立的 TCP 连接 )


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/** 模拟原理 **/


function Polling() {

    fetch(url).then(data => {
    
        // somthing
        
    }).catch(err => {
    
        console.log(err);
    });
}

setInterval(polling, 5000);


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### long-polling( 长轮询 )

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



/**
 * 基于HTTP长连接、无须在浏览器端安装插件的“服务器推”技术               // 又称 "Comet"
 * 
 * 
 * 1) 基于 HTTP 的长轮询( long-polling )
 * 
 * 2) 基于iframe的长连接流( stream-mode )
 */


//-------------------------------------------------------------------------------------------------------------------//


/**
 * long-polling
 * 
 * 
 * 客户端发送请求后服务器端不会立即返回数据，
 * 服务器端会阻塞请求连接不会立即断开，直到服务器端有数据更新或者是连接超时才返回，
 * 客户端才再次发出请求新建连接、如此反复从而获取最新数据
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


优点:

    1) 长轮询 比 短轮询 减少了很多不必要的 http 请求次数，相比之下节约了资源

缺点: 
    
    1) 连接挂载会导致资浪费


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/** 模拟原理 **/


function LongPolling() {

    fetch(url).then(data => {
    
        LongPolling();
        
    }).catch(err => {
    
        LongPolling();
        console.log(err);
        
    });
}

LongPolling();


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### SSE( 长连接 )

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * Server-Sent Events
 * 
 * 
 * 允许服务推送数据到客户端
 * SSE在本质上就与之前的长轮询、短轮询不同，虽然都是基于http协议的，但是轮询需要客户端先发送请求。
 * 而SSE最大的特点就是不需要客户端发送请求，可以实现只要服务器端数据有更新，就可以马上发送到客户端
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


优点: 

    1) SSE在本质上就与之前的长轮询、短轮询不同，虽然都是基于http协议的，但是轮询需要客户端先发送请求
       而SSE最大的特点就是不需要客户端发送请求，可以实现只要服务器端数据有更新，就可以马上发送到客户端


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### websocket

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * WebSocket                // html5 新协议
 * 
 * 
 * 与传统的http协议不同，该协议可以实现服务器与客户端之间全双工通信
 */


原理简介:

1) 首先将 客户端 和 服务器端 建立起一个连接

2) 一旦建立，客户端和服务器端就处于平等的地位，可以相互发送数据，不存在请求和响应的区别


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


优点: 
    
    1) 实现了双向通信

缺点:

    1) 服务器端的逻辑非常复杂


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```
